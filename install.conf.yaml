- defaults:
    link:
      relink: true
      glob: true
      create: true

- clean:
    ~/:
    ~/.config:
      recursive: true

- create:
  - $HOME/.local/share/vim/undo
  - $HOME/.local/share/nvim/undo

- link:
    ~/.config/bat/: bat/*
    ~/.gitconfig: git/gitconfig
    ~/.gitignore: git/gitignore
    ~/.config/kitty/kitty.conf: kitty/kitty.conf
    ~/.config/neofetch/config.conf: neofetch/config.conf
    ~/.config/nixpkgs/:
      if: '[ `uname` = Darwin ]'
      path: nix/*
    ~/.config/nvim/:
      path: nvim/*
      exclude: [ nvim/deprecated-vim-stuff.vim ]
    ~/.profile:
      force: true
      path: profile/profile
    ~/.tmux.conf: tmux/tmux.conf
    ~/.vimrc: vim/vimrc
    ~/.config/zathura/zathurarc: zathura/zathurarc
    ~/.config/zsh/darwin:
      if: '[ `uname` = Darwin ]'
      path: zsh/darwin
    ~/.zshenv:
      force: true
      path: zsh/zshenv
    ~/.zshrc:
      force: true
      path: zsh/zshrc
    ~/.config/zsh/plugins/: zsh/plugins/*

- shell:
  -
    command: git submodule update --init --recursive --remote
    description: Installing submodules
